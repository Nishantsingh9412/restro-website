import{j as e,B as c,F as l,b as p,V as m}from"./chakra-B_DUJliM.js";import{u as h,f}from"./redux-BFEnBRFN.js";import{r as j}from"./react-D9OIIVWL.js";import{T as S,U as b}from"./index-C674oLPn.js";import{L as w}from"./index.esm-B5MM-5XA.js";import"./toast-D556Fe1H.js";const g=async(t,r,o,n)=>{try{const{data:a}=await t(o);return n({type:r,data:a.result}),{success:!0,message:`${r.replace("_"," ")} Fetched Successfully`}}catch{return{success:!1,message:"something went wrong"}}},y=t=>async r=>g(S,"GET_ALL_STOCKS",t,r),k=t=>async r=>g(b,"GET_LOW_STOCKS",t,r),L=(t,r)=>r===0?0:(r/t*100).toFixed(2),u=({item:t,index:r,isLow:o})=>{const n=L(t.minimum_quantity,t.available_quantity),a=(x,d)=>e.jsx(c,{marginTop:"10px",children:e.jsx("div",{style:{background:"white",height:"8px",borderRadius:"50px",width:"100%",display:"flex"},children:e.jsx("div",{style:{background:d?"red":"green",height:"8px",borderRadius:"50px",width:`${x}%`}})})});return e.jsxs(c,{minWidth:"275px",maxW:"300px",bg:"#f9f9f9",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",border:"1px solid #e2e8f0",borderRadius:"lg",padding:"20px",transition:"transform 0.2s",_hover:{transform:"scale(1.05)"},children:[e.jsxs(l,{justifyContent:"space-between",children:[e.jsxs(c,{children:[e.jsx(p,{fontSize:"lg",fontWeight:"semibold",color:"#2d3748",children:t.item_name}),e.jsxs(p,{fontSize:"sm",fontWeight:"500",color:"#718096",children:["Last Updated: ",t.updatedAt.split("T")[0]]})]}),e.jsx(c,{justifyContent:"end",children:e.jsx(c,{color:"#ee7213",backgroundColor:"#fff5f5",borderRadius:"full",padding:"10px",children:e.jsx(w,{size:"30"})})})]}),e.jsx(l,{justifyContent:"end",marginTop:"20px",marginBottom:"15px",children:e.jsx(l,{alignItems:"center"})}),a(n,o),e.jsxs(l,{justifyContent:"space-between",alignItems:"center",marginTop:"4",children:[e.jsxs(m,{direction:"row",spacing:1,children:[e.jsx(p,{fontSize:"sm",color:"#4a5568",children:`${t.available_quantity} / ${t.minimum_quantity}`}),e.jsx(p,{fontSize:"sm",color:"#a0aec0",fontWeight:"500",children:"Total Amount"})]}),e.jsx(c,{border:`2px solid ${o?"red":"green"}`,padding:"3px 6px",borderRadius:"md",fontSize:"sm",color:o?"red.500":"green.500",children:`${n}%`})]})]},r)},A=()=>{var d;const t=h(),r=JSON.parse(localStorage.getItem("ProfileData"))||{},o=(d=r==null?void 0:r.result)==null?void 0:d._id,n=f(s=>s.stocksReducer.stocks),a=f(s=>s.stocksReducer.lowStocks);j.useEffect(()=>{o&&(t(y(o)),t(k(o)))},[o,t]);const x=s=>s.available_quantity/s.minimum_quantity*100<=30;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{marginTop:"5vw",fontWeight:"bold"},children:[e.jsx("h1",{style:{marginLeft:"10px",fontWeight:"900",color:"#3e97cd",fontSize:"1.5rem"},children:"Low Stocks Alert"}),e.jsx("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",padding:"25px",gap:"20px",backgroundColor:"#f8f9fa",borderRadius:"10px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)"},children:a.map((s,i)=>e.jsx(u,{item:s,index:i,isLow:!0},i))})]}),e.jsxs("div",{style:{marginTop:"3vw"},children:[e.jsx("h1",{style:{marginLeft:"10px",fontWeight:"900",color:"#3e97cd",fontSize:"1.5rem"},children:"Overall Stocks"}),e.jsx("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",padding:"25px",gap:"20px",backgroundColor:"#f8f9fa",borderRadius:"10px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)"},children:n.map((s,i)=>e.jsx(u,{item:s,index:i,isLow:x(s)},i))})]})]})};export{A as default};
