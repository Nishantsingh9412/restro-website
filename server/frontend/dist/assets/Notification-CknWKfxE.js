import{j as t,F as c,b as r,P as s,H as u,S as p}from"./chakra-B_DUJliM.js";import{u as g,f as x}from"./redux-BFEnBRFN.js";import{h,r as a}from"./react-D9OIIVWL.js";import{g as j}from"./notifications-DIsKqNuH.js";import{f as R}from"./formatDistanceToNow-Coq_Dh7D.js";import{aA as b}from"./index-C674oLPn.js";import"./normalizeDates-DLvNHQ5D.js";import"./en-US-DoJHY7yM.js";import"./toast-D556Fe1H.js";const l=({notification:e})=>{const i=h(),n=()=>{e.navURL?i(e.navURL):e.url&&(window.location.href=e.url)};return t.jsxs(c,{p:5,border:"1px solid #eee",justifyContent:"space-between",flexDirection:"column",cursor:e.navURL||e.url?"pointer":"",onClick:n,children:[t.jsx(r,{fontSize:18,fontWeight:500,children:e.heading}),t.jsx(r,{children:e.body}),t.jsx(r,{fontSize:12,color:"#777",children:e.createdAt?R(new Date(e.createdAt))+" ago":""})]})};l.propTypes={notification:s.shape({heading:s.string.isRequired,body:s.string.isRequired,createdAt:s.string,navURL:s.string,url:s.string}).isRequired};function D(){const e=g(),i=x(o=>o.notificationReducer.notifications),[n,d]=a.useState(!0);a.useEffect(()=>{(async()=>{await e(j(b.EMPLOYEE)),d(!1)})()},[e]);const f=a.useMemo(()=>i,[i]);return t.jsxs(t.Fragment,{children:[t.jsx(u,{mt:20,mb:5,fontSize:20,children:"Notifications"}),n?t.jsx(c,{justifyContent:"center",alignItems:"center",mt:20,children:t.jsx(p,{size:"xl"})}):f.length===0?t.jsx(r,{p:3,w:"fit-content",bg:"rgba(255, 255, 255, 0.5)",mx:"auto",my:20,children:"No notifications yet"}):t.jsx(c,{flexDirection:"column",borderRadius:20,bg:"#fff",children:f.map((o,m)=>t.jsx(l,{notification:o},m))})]})}export{D as default};
