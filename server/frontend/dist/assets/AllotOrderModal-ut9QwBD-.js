import{P as x,j as a,r as _,s as M,t as P,v as R,y as A,w as F,z as L,F as C,o as w,b as S,x as k}from"./chakra-B_DUJliM.js";import{r as B,b2 as q}from"./index-C674oLPn.js";import{r as c}from"./react-D9OIIVWL.js";import{a as I,b as D}from"./dineInOrder-Qshl_rwx.js";var T={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function O(e){if(typeof e=="number")return{value:e,unit:"px"};var n,s=(e.match(/^[0-9.]*/)||"").toString();s.includes(".")?n=parseFloat(s):n=parseInt(s,10);var t=(e.match(/[^0-9]*$/)||"").toString();return T[t]?{value:n,unit:t}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(n,"px.")),{value:n,unit:"px"})}function E(e){var n=O(e);return"".concat(n.value).concat(n.unit)}var H=function(e,n,s){var t="react-spinners-".concat(e,"-").concat(s);if(typeof window>"u"||!window.document)return t;var o=document.createElement("style");document.head.appendChild(o);var u=o.sheet,f=`
    @keyframes `.concat(t,` {
      `).concat(n,`
    }
  `);return u&&u.insertRule(f,0),t},y=function(){return y=Object.assign||function(e){for(var n,s=1,t=arguments.length;s<t;s++){n=arguments[s];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},y.apply(this,arguments)},N=function(e,n){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)n.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(s[t[o]]=e[t[o]]);return s},U=H("CircleLoader","0% {transform: rotate(0deg)} 50% {transform: rotate(180deg)} 100% {transform: rotate(360deg)}","circle");function $(e){var n=e.loading,s=n===void 0?!0:n,t=e.color,o=t===void 0?"#000000":t,u=e.speedMultiplier,f=u===void 0?1:u,l=e.cssOverride,h=l===void 0?{}:l,g=e.size,m=g===void 0?50:g,b=N(e,["loading","color","speedMultiplier","cssOverride","size"]),j=y({display:"inherit",position:"relative",width:E(m),height:E(m)},h),r=function(d){var p=O(m),v=p.value,i=p.unit;return{position:"absolute",height:"".concat(v*(1-d/10)).concat(i),width:"".concat(v*(1-d/10)).concat(i),borderTop:"1px solid ".concat(o),borderBottom:"none",borderLeft:"1px solid ".concat(o),borderRight:"none",borderRadius:"100%",transition:"2s",top:"".concat(d*.7*2.5,"%"),left:"".concat(d*.35*2.5,"%"),animation:"".concat(U," ").concat(1/f,"s ").concat(d*.2/f,"s infinite linear")}};return s?c.createElement("span",y({style:j},b),c.createElement("span",{style:r(0)}),c.createElement("span",{style:r(1)}),c.createElement("span",{style:r(2)}),c.createElement("span",{style:r(3)}),c.createElement("span",{style:r(4)})):null}function V({isOpen:e,setIsOpen:n,onSubmit:s,personnelType:t}){const o=B(),[u,f]=c.useState([]),[l,h]=c.useState(null),[g,m]=c.useState(!0),b=r=>{h(r)},j=()=>{s(u.find(r=>(r==null?void 0:r._id)===l)),n(!1)};return c.useEffect(()=>{e&&(async()=>{var d,p,v;try{m(!0);const i=await q(t);f((d=i==null?void 0:i.data)!=null&&d.result.length?i.data.result:[])}catch(i){o((v=(p=i==null?void 0:i.response)==null?void 0:p.data)==null?void 0:v.error,"error"),console.error(`Error in getting ${t}`,i.response)}finally{m(!1)}})(),h(null)},[e,t,o]),a.jsxs(_,{isOpen:e,onClose:()=>n(!1),isCentered:!0,children:[a.jsx(M,{}),a.jsxs(P,{children:[a.jsxs(R,{children:["Allot ",t]}),a.jsx(A,{}),a.jsx(F,{children:g?a.jsxs(L,{my:20,display:"flex",flexDirection:"column",gap:2,children:[a.jsx($,{}),"Loading..."]}):u.length?a.jsx(C,{flexDirection:"column",gap:5,maxH:"400px",overflowY:"auto",children:u.map(r=>a.jsxs(C,{gap:5,alignItems:"center",children:[a.jsx(w,{onClick:()=>b(r._id),colorScheme:l===r._id?"green":"gray",width:"fit-content",leftIcon:l===r._id?a.jsx(I,{}):a.jsx(D,{}),children:r.name}),a.jsxs(S,{color:l===r._id?"green":"#ccc",children:["Completed: ",r.completedCount]})]},r._id))}):a.jsxs(S,{my:20,mx:"auto",width:"fit-content",textAlign:"center",color:"#999",children:["No ",t," is available at this moment"]})}),a.jsxs(k,{children:[a.jsx(w,{variant:"ghost",mr:3,onClick:()=>n(!1),children:"Cancel"}),a.jsx(w,{colorScheme:"blue",disabled:!l,onClick:j,pointerEvents:l?"auto":"none",bg:l?"blue.500":"gray.300",children:"Allot"})]})]})]})}V.propTypes={isOpen:x.bool.isRequired,setIsOpen:x.func.isRequired,onSubmit:x.func.isRequired,personnelType:x.string.isRequired};export{V as A,$ as C};
