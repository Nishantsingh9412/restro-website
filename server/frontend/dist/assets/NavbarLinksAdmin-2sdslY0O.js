import{J as y,u as r,j as e,K as R,N as S,O as v,q as I,g as M,F as c,I as C,b as i,M as k,i as B,A as E,k as _,l as g,P as z}from"./chakra-B_DUJliM.js";import{j as F}from"./Sidebar-4LytmxK3.js";import{h as O,r as T}from"./react-D9OIIVWL.js";import{F as A}from"./index.esm-CEhDG2xH.js";import{u as L,f as H}from"./redux-BFEnBRFN.js";import{l as N}from"./index-C674oLPn.js";import{R as W}from"./restaurantModal-BI6-llvY.js";var G=y({d:"M23.384,21.619,16.855,15.09a9.284,9.284,0,1,0-1.768,1.768l6.529,6.529a1.266,1.266,0,0,0,1.768,0A1.251,1.251,0,0,0,23.384,21.619ZM2.75,9.5a6.75,6.75,0,1,1,6.75,6.75A6.758,6.758,0,0,1,2.75,9.5Z",displayName:"SearchIcon"});function P(a){const{variant:l,background:t,children:u,placeholder:p,borderRadius:x,...n}=a,o=r("gray.700","white"),h=r("secondaryGray.300","navy.900"),d=r("gray.700","gray.100");return e.jsxs(R,{w:{base:"100%",md:"200px"},...n,children:[e.jsx(S,{children:e.jsx(v,{bg:"inherit",borderRadius:"inherit",_active:{bg:"inherit",transform:"none",borderColor:"transparent"},_focus:{boxShadow:"none"},icon:e.jsx(G,{color:o,w:"15px",h:"15px"})})}),e.jsx(I,{variant:"search",fontSize:"sm",bg:t||h,color:d,fontWeight:"500",_placeholder:{color:"gray.400",fontSize:"14px"},borderRadius:x||"30px",placeholder:p||"Search..."})]})}function V({secondary:a}){const l=L(),t=O(),{isOpen:u,onOpen:p,onClose:x}=M(),n=(()=>{try{return JSON.parse(localStorage.getItem("ProfileData"))}catch(s){return console.error("Failed to parse local storage data:",s),null}})(),o=H(s=>s.userReducer.data),h=r("white","navy.800"),d=r("gray.700","white"),f=r("secondaryGray.300","navy.900"),j=r("white","navy.800"),w=r("#E6ECFA","rgba(135, 140, 189, 0.3)"),m=r("14px 17px 40px 4px rgba(112, 144, 176, 0.18)","14px 17px 40px 4px rgba(112, 144, 176, 0.06)"),b=()=>{l(N()),console.log("Logged out"),t("/")};return T.useEffect(()=>{if(n){const s=n==null?void 0:n.token;s&&F(s).exp*1e3<Date.now()&&b()}else t("/")},[l,n,t]),e.jsxs(e.Fragment,{children:[e.jsxs(c,{w:{sm:"100%",md:"auto"},alignItems:"center",flexDirection:"row",flexWrap:a?{base:"wrap",md:"nowrap"}:"unset",p:"10px",borderRadius:"30px",boxShadow:m,children:[e.jsx(P,{mb:a?{base:"10px",md:"unset"}:"unset",me:"10px",borderRadius:"30px"}),e.jsxs(c,{bg:f,display:a?"flex":"none",borderRadius:"30px",ms:"auto",p:"6px",align:"center",me:"6px",children:[e.jsx(c,{align:"center",justify:"center",bg:j,h:"29px",w:"29px",borderRadius:"30px",me:"7px",children:e.jsx(C,{color:d,w:"9px",h:"14px",as:A})}),e.jsxs(i,{w:"max-content",color:d,fontSize:"sm",fontWeight:"700",me:"6px",children:["1,924",e.jsxs(i,{as:"span",display:{base:"none",md:"unset"},children:[" ","ETH"]})]})]}),e.jsxs(k,{children:[e.jsx(B,{p:"0px",children:e.jsx(E,{_hover:{cursor:"pointer"},color:"white",name:(o==null?void 0:o.username)||"User",bg:"#11047A",size:"sm",w:"40px",h:"40px"})}),e.jsxs(_,{boxShadow:m,p:"0px",mt:"10px",borderRadius:"20px",bg:h,border:"none",children:[e.jsx(c,{w:"100%",mb:"0px",children:e.jsxs(i,{ps:"20px",pt:"16px",pb:"10px",w:"100%",borderBottom:"1px solid",borderColor:w,fontSize:"sm",fontWeight:"700",color:"black",children:["ðŸ‘‹Â  Hey, ",(o==null?void 0:o.username)||"User"]})}),e.jsxs(c,{flexDirection:"column",p:"10px",children:[!(o!=null&&o.isVerified)&&e.jsx(g,{_hover:{bg:"none"},_focus:{bg:"none"},color:"blue.400",borderRadius:"8px",px:"14px",onClick:p,children:e.jsx(i,{fontSize:"sm",children:"Verify Restaurant"})}),e.jsx(g,{_hover:{bg:"none"},_focus:{bg:"none"},color:"red.400",borderRadius:"8px",px:"14px",onClick:b,children:e.jsx(i,{fontSize:"sm",children:"Log out"})})]})]})]})]}),u&&e.jsx(W,{isOpen:u,onClose:x,onSubmit:s=>console.log(s)})]})}V.propTypes={secondary:z.bool};export{V as H};
