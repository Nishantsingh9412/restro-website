import{j as e,F as i,H as m,o as T,aa as D,b as s,B as z,aB as O,aE as L,aF as S,P as l}from"./chakra-B_DUJliM.js";import{f as E,u as k}from"./redux-BFEnBRFN.js";import{r as h,h as F}from"./react-D9OIIVWL.js";import{aZ as P,aV as f,aK as R}from"./index-C674oLPn.js";import{c as I}from"./index.esm-C2w5JDxg.js";import{c as W}from"./index.esm-pyeY5B28.js";import{C as v}from"./CompletedOrderChart-CWVok4bA.js";import"./toast-D556Fe1H.js";import"./react-apexcharts.min-ApQTKi8h.js";import"./subMonths-EyZRS0fZ.js";import"./normalizeDates-DLvNHQ5D.js";import"./startOfDay-Dk20W2YO.js";import"./addMonths-BAauhxW2.js";const a=({title:o,icon:n,data:r,footerText:c,footerLink:t,color:d})=>{const x=F();return e.jsxs(O,{children:[e.jsxs(L,{px:5,children:[e.jsxs(i,{justifyContent:"space-between",mb:5,children:[e.jsx(m,{fontSize:"24px",children:o}),n]}),r]}),t&&c&&e.jsxs(S,{bg:d,color:"white",px:3,py:2,display:"flex",alignItems:"center",justifyContent:"flex-end",cursor:"pointer",gap:3,onClick:()=>x(t),children:[e.jsx(s,{children:c}),e.jsx(I,{})]})]})},B=({isLoading:o,isError:n})=>o?e.jsx(s,{my:20,w:"fit-content",mx:"auto",fontSize:24,children:"Loading..."}):n?e.jsx(s,{my:20,w:"fit-content",mx:"auto",color:"red",children:"Error loading data. Please try again."}):null;function X(){var d,x,g,p,j,u,y,C,b;const[o,n]=h.useState({isLoading:!0,isError:!1}),r=E(w=>w.chef.dashboardData),c=k(),t=h.useCallback(()=>{n({isLoading:!0,isError:!1}),c(P()).then(()=>n({isLoading:!1,isError:!1})).catch(()=>n({isLoading:!1,isError:!0}))},[c]);return h.useEffect(()=>{t()},[t]),e.jsxs("div",{children:[e.jsxs(i,{flexWrap:"wrap",gap:10,alignItems:"center",justifyContent:"space-between",mt:{lg:10,base:24},mb:5,children:[e.jsx(m,{fontSize:30,children:"Chef Dashboard"}),e.jsx(T,{isLoading:o.isLoading,leftIcon:e.jsx(W,{}),onClick:t,children:"Refresh"})]}),e.jsx(B,{isLoading:o.isLoading,isError:o.isError}),!o.isLoading&&!o.isError&&r&&e.jsxs(e.Fragment,{children:[e.jsxs(D,{templateColumns:{base:"repeat(1, 1fr)",md:"repeat(2, 1fr)"},gap:5,children:[e.jsx(a,{title:"Today's Dishes",icon:e.jsx(f,{size:30,color:"green"}),data:e.jsxs(i,{flexDirection:{md:"row",base:"column"},justifyContent:"space-between",children:[e.jsxs(i,{flexDirection:"column",children:[e.jsx(s,{fontWeight:"500",fontSize:"larger",children:"Completed"}),e.jsx(s,{fontWeight:"600",fontSize:"xx-large",color:"green",children:((d=r==null?void 0:r.todayOrders)==null?void 0:d.Completed)||0})]}),e.jsxs(i,{flexDirection:"column",children:[e.jsxs(i,{gap:3,children:[e.jsx(s,{children:"In Progress:"}),e.jsx(s,{children:((x=r==null?void 0:r.todayOrders)==null?void 0:x.Preparing)||0})]}),e.jsxs(i,{gap:3,color:"red",children:[e.jsx(s,{children:"Pending:"}),e.jsx(s,{children:((g=r==null?void 0:r.todayOrders)==null?void 0:g.Pending)||0})]})]})]}),footerText:"View Details",footerLink:"/dishes/today",color:"green"}),e.jsx(a,{title:"Monthly Dishes",icon:e.jsx(f,{size:30,color:"blue"}),data:e.jsxs(i,{flexDirection:{md:"row",base:"column"},justifyContent:"space-between",children:[e.jsxs(i,{flexDirection:"column",children:[e.jsx(s,{fontWeight:"500",fontSize:"larger",children:"Completed"}),e.jsx(s,{fontWeight:"600",fontSize:"xx-large",color:"blue",children:((p=r==null?void 0:r.monthlyOrders)==null?void 0:p.Completed)||0})]}),e.jsx(i,{flexDirection:"column",children:e.jsxs(i,{gap:3,color:"blue",children:[e.jsx(s,{children:"In Progress:"}),e.jsx(s,{children:((j=r==null?void 0:r.monthlyOrders)==null?void 0:j.Preparing)||0})]})})]}),footerText:"View History",footerLink:"/dishes/monthly",color:"blue"})]}),e.jsxs(z,{mt:5,bg:"#fff",children:[e.jsx(m,{fontSize:20,mb:5,pl:5,pt:5,children:"Performance Overview"}),e.jsx(v,{weeklyOrders:((u=r==null?void 0:r.weeklyOrders)==null?void 0:u.Completed)||[],monthlyOrders:((y=r==null?void 0:r.monthlyOrders)==null?void 0:y.Completed)||[],yearlyOrders:((C=r==null?void 0:r.yearlyOrders)==null?void 0:C.Completed)||[],totalTips:(r==null?void 0:r.totalTips)||0})]}),e.jsxs(D,{templateColumns:{base:"repeat(1, 1fr)",md:"repeat(2, 1fr)"},mt:5,gap:5,children:[e.jsx(a,{title:"Cooking Time",icon:e.jsx(R,{size:30,color:"purple"}),data:e.jsxs(i,{flexDirection:"column",gap:5,children:[e.jsxs(i,{flexDirection:"column",alignItems:"center",children:[e.jsx(s,{fontWeight:"500",fontSize:"larger",children:"Average"}),e.jsxs(s,{fontWeight:"600",fontSize:"xx-large",color:"purple",children:[((r==null?void 0:r.averageCookingTime)/60).toFixed(1)||0," min"]})]}),e.jsxs(i,{flexDirection:"row",justifyContent:"space-between",children:[e.jsxs(i,{flexDirection:"column",alignItems:"center",children:[e.jsx(s,{children:"Fastest"}),e.jsxs(s,{children:[((r==null?void 0:r.fastestCookingTime)/60).toFixed(1)||0," min"]})]}),e.jsxs(i,{flexDirection:"column",alignItems:"center",children:[e.jsx(s,{children:"Slowest"}),e.jsxs(s,{children:[((r==null?void 0:r.slowestCookingTime)/60).toFixed(1)||0," min"]})]})]})]})}),e.jsx(a,{title:"Tips Collected",icon:e.jsx(f,{size:30,color:"gold"}),data:e.jsx(i,{flexDirection:"column",gap:5,children:e.jsxs(s,{fontWeight:"600",fontSize:"xx-large",color:"gold",children:["$",((b=r==null?void 0:r.totalTips)==null?void 0:b.toFixed(2))||0]})}),footerText:"View Tips",footerLink:"/tips/history",color:"gold"})]})]})]})}a.propTypes={title:l.string.isRequired,icon:l.element.isRequired,data:l.node.isRequired,footerText:l.string,footerLink:l.string,color:l.string};export{X as default};
