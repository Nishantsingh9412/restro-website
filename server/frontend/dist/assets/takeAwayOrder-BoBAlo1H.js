import{af as A,ag as d,ah as O,ai as _,aj as g,ak as m}from"./index-C674oLPn.js";const l=async(e,s,n,c)=>{var a,t,o;try{const{data:r}=await e();return s({type:n,data:r==null?void 0:r.result}),{success:!0,message:c}}catch(r){return{success:!1,message:(t=(a=r==null?void 0:r.response)==null?void 0:a.data)==null?void 0:t.error,status:(o=r==null?void 0:r.response)==null?void 0:o.status}}},i=({orderId:e,deliveryBoy:s})=>async n=>{var c,a;console.log("Allot Delivery",e,s._id);try{return await A(e,s==null?void 0:s._id),n({type:"ALLOT_DELIVERY_BOY",data:{orderId:e,assignedTo:{name:s.name,_id:s==null?void 0:s._id}}}),{success:!0,message:"Delivery boy allocated successfully"}}catch(t){return console.log("Error from ALLOT_DELIVERY_BOY Action: "+t.message,t.stack),{success:!1,message:(a=(c=t==null?void 0:t.response)==null?void 0:c.data)==null?void 0:a.message}}},T=e=>async s=>l(()=>O(e),s,"POST_DELIVERY_ORDER","Order placed successfully"),p=e=>async s=>l(()=>d(e),s,"GET_DELIVERY_ORDER","Order fetched successfully"),u=async(e,s,n,c)=>{try{const{data:a}=await e();return s({type:n,data:a==null?void 0:a.result}),{success:!0,message:c}}catch(a){return console.error(`Error from ${n}: ${a.message}`,a.stack),{success:!1,message:a.response.data.error||"something went wrong",status:a.response.status}}},D=({orderId:e,chef:s})=>async n=>{var c,a;try{return await _(e,s._id),n({type:"ALLOT_CHEF_TAKE_AWAY",data:{orderId:e,assignedChef:{name:s.name,_id:s==null?void 0:s._id}}}),{success:!0,message:"Order allotted successfully"}}catch(t){return console.error("Error from ALLOT_TAKE_AWAY_ORDER Action: "+t.message,t.stack),{success:!1,message:(a=(c=t==null?void 0:t.response)==null?void 0:c.data)==null?void 0:a.message}}},y=e=>async s=>u(()=>m(e),s,"POST_TAKE_AWAY_ORDER","Order placed successfully"),f=e=>async s=>u(()=>g(e),s,"GET_TAKE_AWAY_ORDER","Order fetched successfully");export{y as a,f as b,D as c,i as d,p as g,T as p};
